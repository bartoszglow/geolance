/*! geolance 2014-05-13 */
var app=angular.module("app",["ngRoute","google-maps"]);app.config(["$routeProvider",function(a){a.when("/",{controller:"loginCtrl",templateUrl:"views/login.html"}).when("/map",{controller:"mapCtrl",templateUrl:"views/hospital/map.html"}).when("/ambulance",{controller:"ambulanceCtrl",templateUrl:"views/ambulance/ambulance.html"}).otherwise({redirectTo:"/"})}]),app.factory("AuthenticationService",["$location","$http",function(a,b){var c={};return{login:function(d){alert(d.username+" "+d.password),"dispatcher"===d.username&&"password"===d.password?(console.log(a),a.path("/map")):b.post("/geolance/php/login",{username:d.username,password:d.password}).success(function(b){""!==b.username?(c=b,a.path("/ambulance")):(alert(b),console.log(b))}).error(function(a,b){alert(b)})},logout:function(){}}}]),app.controller("ambulanceCtrl",["$scope","$location",function(a){a.credentials={username:"",password:""},a.status=function(){},window.scope=a}]),app.controller("loginCtrl",["$scope","AuthenticationService",function(a,b){a.credentials={username:"",password:""},a.login=function(){b.login(a.credentials)},window.scope=a}]),app.controller("mapCtrl",["$scope",function(a){a.map={zoom:12,center:{latitude:52.405137,longitude:16.932222}}}]);